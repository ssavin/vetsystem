
================================================
VetSystem Companion - Building Installer
================================================

[1/2] Checking Node.js...
v22.20.0
OK

[2/2] Building installer (as Administrator)...
This will take 5-10 minutes...


> vetsystem-companion@1.0.0 build:win
> npm run build -- --win


> vetsystem-companion@1.0.0 build
> tsc && vite build && electron-builder --win

vite v5.4.21 building for production...
✓ 394 modules transformed.
dist/index.html                   0.47 kB │ gzip:  0.31 kB
dist/assets/index-DW0BBNv9.css    1.33 kB │ gzip:  0.67 kB
dist/assets/index-cuRzQGwa.js   231.73 kB │ gzip: 71.07 kB
✓ built in 2.01s
vite v5.4.21 building for production...
✓ 765 modules transformed.
dist/main/index.js  728.29 kB │ gzip: 172.96 kB
✓ built in 2.05s
vite v5.4.21 building for production...
✓ 1 modules transformed.
dist/preload/preload.js  1.27 kB │ gzip: 0.45 kB
✓ built in 11ms
  • electron-builder  version=24.13.3 os=10.0.19044
  • loaded configuration  file=package.json ("build" field)
  • writing effective config  file=release\builder-effective-config.yaml
  • rebuilding native dependencies  dependencies=better-sqlite3@9.6.0 platform=win32 arch=x64
  • install prebuilt binary  name=better-sqlite3 version=9.6.0 platform=win32 arch=x64 napi=
  • packaging       platform=win32 arch=x64 electron=28.3.3 appOutDir=release\win-unpacked
  • default Electron icon is used  reason=application icon is not set
  • downloading     url=https://github.com/electron-userland/electron-builder-binaries/releases/download/winCodeSign-2.6.0/winCodeSign-2.6.0.7z size=5.6 MB parts=1
  • downloaded      url=https://github.com/electron-userland/electron-builder-binaries/releases/download/winCodeSign-2.6.0/winCodeSign-2.6.0.7z duration=931ms
  ⨯ Cannot use 'in' operator to search for 'file' in undefined  failedTask=build stackTrace=TypeError: Cannot use 'in' operator to search for 'file' in undefined
    at doSign (C:\VetSystem\vetsystem-companion\node_modules\app-builder-lib\src\codeSign\windowsCodeSign.ts:154:70)
    at sign (C:\VetSystem\vetsystem-companion\node_modules\app-builder-lib\src\codeSign\windowsCodeSign.ts:60:7)
    at processTicksAndRejections (node:internal/process/task_queues:105:5)
From previous event:
    at processImmediate (node:internal/timers:485:21)
From previous event:
    at WinPackager.signApp (C:\VetSystem\vetsystem-companion\node_modules\app-builder-lib\src\winPackager.ts:384:27)
    at WinPackager.doSignAfterPack (C:\VetSystem\vetsystem-companion\node_modules\app-builder-lib\src\platformPackager.ts:336:32)
    at WinPackager.doPack (C:\VetSystem\vetsystem-companion\node_modules\app-builder-lib\src\platformPackager.ts:321:7)
    at WinPackager.pack (C:\VetSystem\vetsystem-companion\node_modules\app-builder-lib\src\platformPackager.ts:140:5)
    at Packager.doBuild (C:\VetSystem\vetsystem-companion\node_modules\app-builder-lib\src\packager.ts:445:9)
    at executeFinally (C:\VetSystem\vetsystem-companion\node_modules\builder-util\src\promise.ts:12:14)
    at Packager._build (C:\VetSystem\vetsystem-companion\node_modules\app-builder-lib\src\packager.ts:379:31)
    at Packager.build (C:\VetSystem\vetsystem-companion\node_modules\app-builder-lib\src\packager.ts:340:12)
    at executeFinally (C:\VetSystem\vetsystem-companion\node_modules\builder-util\src\promise.ts:12:14)

BUILD ERROR!