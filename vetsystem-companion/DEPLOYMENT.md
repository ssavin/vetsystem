# üöÄ –†–∞–∑–≤–µ—Ä—Ç—ã–≤–∞–Ω–∏–µ VetSystem Companion

## ‚ö†Ô∏è –í–ê–ñ–ù–û: Companion - —ç—Ç–æ –î–ï–°–ö–¢–û–ü–ù–û–ï –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ!

VetSystem Companion **–ù–ï –î–û–õ–ñ–ï–ù** –∑–∞–ø—É—Å–∫–∞—Ç—å—Å—è –Ω–∞ –≤–µ–±-—Å–µ—Ä–≤–µ—Ä–µ vetsystemai.ru.
–≠—Ç–æ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ —É—Å—Ç–∞–Ω–∞–≤–ª–∏–≤–∞–µ—Ç—Å—è –Ω–∞ –∫–æ–º–ø—å—é—Ç–µ—Ä—ã –≤ –∫–ª–∏–Ω–∏–∫–∞—Ö –¥–ª—è –æ—Ñ–ª–∞–π–Ω-—Ä–∞–±–æ—Ç—ã.

---

## üìã –°—Ö–µ–º–∞ —Ä–∞–∑–≤–µ—Ä—Ç—ã–≤–∞–Ω–∏—è

```
‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê
‚îÇ  –°–µ—Ä–≤–µ—Ä vetsystemai.ru  ‚îÇ
‚îÇ  (–≤–µ–±-–ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ)       ‚îÇ
‚îÇ  + API –¥–ª—è —Å–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∞—Ü–∏–∏‚îÇ
‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚î¨‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò
            ‚îÇ
            ‚îÇ –°–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∞—Ü–∏—è
            ‚îÇ —á–µ—Ä–µ–∑ API
            ‚îÇ
    ‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚î¥‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê
    ‚îÇ                ‚îÇ
‚îå‚îÄ‚îÄ‚îÄ‚ñº‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê  ‚îå‚îÄ‚îÄ‚îÄ‚ñº‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê
‚îÇ –ö–ª–∏–Ω–∏–∫–∞ –ê  ‚îÇ  ‚îÇ –ö–ª–∏–Ω–∏–∫–∞ –ë  ‚îÇ
‚îÇ Companion  ‚îÇ  ‚îÇ Companion  ‚îÇ
‚îÇ (–æ—Ñ–ª–∞–π–Ω)   ‚îÇ  ‚îÇ (–æ—Ñ–ª–∞–π–Ω)   ‚îÇ
‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò  ‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò
```

---

## 1Ô∏è‚É£ –ù–∞—Å—Ç—Ä–æ–π–∫–∞ —Å–µ—Ä–≤–µ—Ä–∞ vetsystemai.ru

### –î–æ–±–∞–≤—å—Ç–µ API –∫–ª—é—á –≤ .env

–ù–∞ –≤–∞—à–µ–º —Å–µ—Ä–≤–µ—Ä–µ –æ—Ç–∫—Ä–æ–π—Ç–µ —Ñ–∞–π–ª `.env` –∏ –¥–æ–±–∞–≤—å—Ç–µ:

```bash
# VetSystem Companion API Key –¥–ª—è —Å–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∞—Ü–∏–∏
COMPANION_API_KEY=companion-api-key-2025
```

### –ü–µ—Ä–µ–∑–∞–ø—É—Å—Ç–∏—Ç–µ —Å–µ—Ä–≤–µ—Ä

```bash
# –ï—Å–ª–∏ –∏—Å–ø–æ–ª—å–∑—É–µ—Ç–µ PM2:
pm2 restart vetsystem

# –ï—Å–ª–∏ –∏—Å–ø–æ–ª—å–∑—É–µ—Ç–µ systemd:
systemctl restart vetsystem

# –ï—Å–ª–∏ –∏—Å–ø–æ–ª—å–∑—É–µ—Ç–µ Docker:
docker-compose restart
```

### –ü—Ä–æ–≤–µ—Ä—å—Ç–µ, —á—Ç–æ API —Ä–∞–±–æ—Ç–∞–µ—Ç

```bash
curl -X GET https://vetsystemai.ru/api/sync/initial-data \
  -H "X-API-Key: companion-api-key-2025"
```

–î–æ–ª–∂–µ–Ω –≤–µ—Ä–Ω—É—Ç—å—Å—è JSON —Å –¥–∞–Ω–Ω—ã–º–∏ –∫–ª–∏–µ–Ω—Ç–æ–≤/–ø–∞—Ü–∏–µ–Ω—Ç–æ–≤.

---

## 2Ô∏è‚É£ –°–±–æ—Ä–∫–∞ —É—Å—Ç–∞–Ω–æ–≤—â–∏–∫–∞ (–Ω–∞ Replit –∏–ª–∏ –ª–æ–∫–∞–ª—å–Ω–æ–π –º–∞—à–∏–Ω–µ)

### –ù–∞ Windows –∫–æ–º–ø—å—é—Ç–µ—Ä–µ:

```bash
cd vetsystem-companion
npm install
npm run build:win
```

–†–µ–∑—É–ª—å—Ç–∞—Ç: `vetsystem-companion/release/VetSystem-Companion-Setup-1.0.0.exe`

### –ù–∞ Mac:

```bash
npm run build:mac
```

–†–µ–∑—É–ª—å—Ç–∞—Ç: `vetsystem-companion/release/VetSystem-Companion-1.0.0.dmg`

### –ù–∞ Linux:

```bash
npm run build:linux
```

–†–µ–∑—É–ª—å—Ç–∞—Ç: `vetsystem-companion/release/VetSystem-Companion-1.0.0.AppImage`

---

## 3Ô∏è‚É£ –£—Å—Ç–∞–Ω–æ–≤–∫–∞ –≤ –∫–ª–∏–Ω–∏–∫–∞—Ö

### –®–∞–≥ 1: –°–∫–æ–ø–∏—Ä—É–π—Ç–µ —É—Å—Ç–∞–Ω–æ–≤—â–∏–∫

–°–∫–æ–ø–∏—Ä—É–π—Ç–µ `.exe` —Ñ–∞–π–ª –Ω–∞ –∫–æ–º–ø—å—é—Ç–µ—Ä –∫–ª–∏–Ω–∏–∫–∏ (—á–µ—Ä–µ–∑ USB, —Å–µ—Ç—å, –æ–±–ª–∞–∫–æ).

### –®–∞–≥ 2: –ó–∞–ø—É—Å—Ç–∏—Ç–µ —É—Å—Ç–∞–Ω–æ–≤–∫—É

–î–≤–æ–π–Ω–æ–π –∫–ª–∏–∫ –ø–æ `VetSystem-Companion-Setup-1.0.0.exe`

### –®–∞–≥ 3: –ù–∞—Å—Ç—Ä–æ–π—Ç–µ –ø–æ–¥–∫–ª—é—á–µ–Ω–∏–µ

–ü–æ—Å–ª–µ —É—Å—Ç–∞–Ω–æ–≤–∫–∏:
1. –û—Ç–∫—Ä–æ–π—Ç–µ VetSystem Companion
2. –ü–µ—Ä–µ–π–¥–∏—Ç–µ –≤ **–ù–∞—Å—Ç—Ä–æ–π–∫–∏**
3. –í–≤–µ–¥–∏—Ç–µ:
   - **URL —Å–µ—Ä–≤–µ—Ä–∞**: `https://vetsystemai.ru`
   - **API –∫–ª—é—á**: `companion-api-key-2025`
4. –ù–∞–∂–º–∏—Ç–µ **"–°–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∏—Ä–æ–≤–∞—Ç—å"**

‚úÖ –ü—Ä–∏–ª–æ–∂–µ–Ω–∏–µ —Å–∫–∞—á–∞–µ—Ç –≤—Å–µ –¥–∞–Ω–Ω—ã–µ –∏ –≥–æ—Ç–æ–≤–æ –∫ —Ä–∞–±–æ—Ç–µ!

---

## 4Ô∏è‚É£ –¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ –æ—Ñ–ª–∞–π–Ω-—Ä–µ–∂–∏–º–∞

1. –û—Ç–∫–ª—é—á–∏—Ç–µ –∏–Ω—Ç–µ—Ä–Ω–µ—Ç –Ω–∞ –∫–æ–º–ø—å—é—Ç–µ—Ä–µ –∫–ª–∏–Ω–∏–∫–∏
2. –°–æ–∑–¥–∞–π—Ç–µ –∫–ª–∏–µ–Ω—Ç–∞, –ø–∞—Ü–∏–µ–Ω—Ç–∞ –∏–ª–∏ —Å—á–µ—Ç
3. –ò–Ω–¥–∏–∫–∞—Ç–æ—Ä –ø–æ–∫–∞–∂–µ—Ç: **"–û–∂–∏–¥–∞–µ—Ç —Å–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∞—Ü–∏–∏: 3"** (–∂–µ–ª—Ç—ã–π)
4. –í–∫–ª—é—á–∏—Ç–µ –∏–Ω—Ç–µ—Ä–Ω–µ—Ç
5. –î–∞–Ω–Ω—ã–µ –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –æ—Ç–ø—Ä–∞–≤—è—Ç—Å—è –Ω–∞ —Å–µ—Ä–≤–µ—Ä
6. –ò–Ω–¥–∏–∫–∞—Ç–æ—Ä —Å—Ç–∞–Ω–µ—Ç –∑–µ–ª–µ–Ω—ã–º: **"–°–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∏—Ä–æ–≤–∞–Ω–æ"**

---

## üîí –ë–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç—å

### –°–º–µ–Ω–∞ API –∫–ª—é—á–∞

–ï—Å–ª–∏ –Ω—É–∂–Ω–æ —Å–º–µ–Ω–∏—Ç—å API –∫–ª—é—á:

1. –ù–∞ —Å–µ—Ä–≤–µ—Ä–µ –∏–∑–º–µ–Ω–∏—Ç–µ `COMPANION_API_KEY` –≤ `.env`
2. –ü–µ—Ä–µ–∑–∞–ø—É—Å—Ç–∏—Ç–µ —Å–µ—Ä–≤–µ—Ä
3. –í –∫–∞–∂–¥–æ–π –∫–ª–∏–Ω–∏–∫–µ –æ–±–Ω–æ–≤–∏—Ç–µ API –∫–ª—é—á –≤ –ù–∞—Å—Ç—Ä–æ–π–∫–∞—Ö Companion
4. –°–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∏—Ä—É–π—Ç–µ

### –†–∞–∑–Ω—ã–µ –∫–ª—é—á–∏ –¥–ª—è —Ä–∞–∑–Ω—ã—Ö –∫–ª–∏–Ω–∏–∫ (–æ–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ)

–ï—Å–ª–∏ —Ö–æ—Ç–∏—Ç–µ –¥–∞–≤–∞—Ç—å –∫–∞–∂–¥–æ–π –∫–ª–∏–Ω–∏–∫–µ —Å–≤–æ–π –∫–ª—é—á, –¥–æ–±–∞–≤—å—Ç–µ –ø—Ä–æ–≤–µ—Ä–∫—É –Ω–∞ —Å–µ—Ä–≤–µ—Ä–µ:

```typescript
// server/routes.ts
const validApiKeys = [
  'companion-clinic-a-2025',
  'companion-clinic-b-2025',
  'companion-clinic-c-2025'
];

if (!validApiKeys.includes(apiKey)) {
  return res.status(401).json({ error: 'Invalid API key' });
}
```

---

## üõ†Ô∏è Troubleshooting

### –û—à–∏–±–∫–∞ "Cannot open shared libraries" –Ω–∞ —Å–µ—Ä–≤–µ—Ä–µ

**–≠—Ç–æ –Ω–æ—Ä–º–∞–ª—å–Ω–æ!** Companion –Ω–µ –¥–æ–ª–∂–µ–Ω –∑–∞–ø—É—Å–∫–∞—Ç—å—Å—è –Ω–∞ —Å–µ—Ä–≤–µ—Ä–µ.
Electron —Ç—Ä–µ–±—É–µ—Ç –≥—Ä–∞—Ñ–∏—á–µ—Å–∫–æ–µ –æ–∫—Ä—É–∂–µ–Ω–∏–µ (X11/GTK), –∫–æ—Ç–æ—Ä–æ–≥–æ –Ω–µ—Ç –Ω–∞ –≤–µ–±-—Å–µ—Ä–≤–µ—Ä–µ.

### Companion –Ω–µ —Å–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∏—Ä—É–µ—Ç—Å—è

–ü—Ä–æ–≤–µ—Ä—å—Ç–µ:
- [ ] –ò–Ω—Ç–µ—Ä–Ω–µ—Ç —Å–æ–µ–¥–∏–Ω–µ–Ω–∏–µ
- [ ] URL —Å–µ—Ä–≤–µ—Ä–∞ –ø—Ä–∞–≤–∏–ª—å–Ω—ã–π (https://vetsystemai.ru)
- [ ] API –∫–ª—é—á –ø—Ä–∞–≤–∏–ª—å–Ω—ã–π
- [ ] `COMPANION_API_KEY` –¥–æ–±–∞–≤–ª–µ–Ω –≤ .env –Ω–∞ —Å–µ—Ä–≤–µ—Ä–µ
- [ ] –°–µ—Ä–≤–µ—Ä –ø–µ—Ä–µ–∑–∞–ø—É—â–µ–Ω –ø–æ—Å–ª–µ –¥–æ–±–∞–≤–ª–µ–Ω–∏—è –∫–ª—é—á–∞
- [ ] –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –ª–æ–≥–∏ —Å–µ—Ä–≤–µ—Ä–∞: `pm2 logs vetsystem`

### –£—Å—Ç–∞–Ω–æ–≤—â–∏–∫ –Ω–µ —Å–æ–±–∏—Ä–∞–µ—Ç—Å—è

–£–±–µ–¥–∏—Ç–µ—Å—å, —á—Ç–æ:
- Node.js –≤–µ—Ä—Å–∏–∏ 18 –∏–ª–∏ –≤—ã—à–µ
- –í—Å–µ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏ —É—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω—ã: `npm install`
- –ù–∞ Windows –Ω—É–∂–µ–Ω Visual Studio Build Tools –¥–ª—è better-sqlite3

---

## üìä –ú–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥

### –õ–æ–≥–∏ —Å–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∞—Ü–∏–∏ –Ω–∞ —Å–µ—Ä–≤–µ—Ä–µ

```bash
pm2 logs vetsystem | grep "sync"
```

–í—ã —É–≤–∏–¥–∏—Ç–µ:
```
‚úì Sync: Sent initial data (150 clients, 420 patients, 85 nomenclature)
‚úì Sync: Processed 5 actions (5 successful)
```

### –°—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞ –≤ Companion

–í –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–∏ –≤ —à–∞–ø–∫–µ –ø–æ–∫–∞–∑—ã–≤–∞–µ—Ç—Å—è:
- üü¢ **–°–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∏—Ä–æ–≤–∞–Ω–æ** - –≤—Å–µ –æ—Ç–ø—Ä–∞–≤–ª–µ–Ω–æ
- üü° **–û–∂–∏–¥–∞–µ—Ç: N** - –µ—Å—Ç—å –Ω–µ—Å–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∏—Ä–æ–≤–∞–Ω–Ω—ã–µ –∑–∞–ø–∏—Å–∏
- üî¥ **–û—à–∏–±–∫–∞** - –ø—Ä–æ–±–ª–µ–º–∞ —Å —Å–æ–µ–¥–∏–Ω–µ–Ω–∏–µ–º

---

## üéØ –ê–≤—Ç–æ–æ–±–Ω–æ–≤–ª–µ–Ω–∏–µ (–±—É–¥—É—â–µ–µ)

–î–ª—è –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–≥–æ –æ–±–Ω–æ–≤–ª–µ–Ω–∏—è Companion –≤ –∫–ª–∏–Ω–∏–∫–∞—Ö –º–æ–∂–Ω–æ –¥–æ–±–∞–≤–∏—Ç—å `electron-updater`:

```bash
npm install electron-updater
```

–ù–∞—Å—Ç—Ä–æ–∏—Ç—å –ø—É–±–ª–∏–∫–∞—Ü–∏—é —Ä–µ–ª–∏–∑–æ–≤ –Ω–∞ GitHub Releases –∏–ª–∏ —Å–æ–±—Å—Ç–≤–µ–Ω–Ω—ã–π —Å–µ—Ä–≤–µ—Ä.

---

**–ì–æ—Ç–æ–≤–æ!** –¢–µ–ø–µ—Ä—å –∫–ª–∏–Ω–∏–∫–∏ –º–æ–≥—É—Ç —Ä–∞–±–æ—Ç–∞—Ç—å –æ—Ñ–ª–∞–π–Ω, –∞ –≤—Å–µ –¥–∞–Ω–Ω—ã–µ —Å–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∏—Ä—É—é—Ç—Å—è –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏! üéâ
